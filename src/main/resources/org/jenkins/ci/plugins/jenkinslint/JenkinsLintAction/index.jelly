<?jelly escape-by-default='false'?>
<j:jelly xmlns:j="jelly:core" xmlns:st="jelly:stapler" xmlns:l="/lib/layout">
  <j:getStatic var="permission" className="hudson.model.Item" field="CREATE"/>
  <l:layout norefresh="true" permission="${permission}" title="${%Jenkins.Lint.Title}">
    <st:include it="${app}" page="sidepanel.jelly"/>
    <l:main-panel>
      <j:set var="data" value="${it.data}"/>
        <h1>${%Jenkins.Lint.Title}</h1>
        <h3>${%Jenkins.Lint.Description}</h3>
        <br/>
      <br/>
      <table class="sortable pane bigtable" id="jenkinsLintTable">
        <thead>
          <tr>
            <th class="pane-header">Job Name</th>
              <j:forEach var="checker" items="${it.checkList}">
                <th class="pane-header">${checker.getName()}</th>
              </j:forEach>
          </tr>
        </thead>
        <tbody id="jenkinsLintTableBody">
            <j:forEach var="job" items="${it.jobSet.elements()}">
                <tr>
                <td><a href="${app.rootUrl}${job.url}">${job.name}</a></td>
                <j:forEach var="check" items="${job.checkSet}">
                    <j:if test="${check.ignored}">
                    <j:if test="${check.found}">
                        <td style="background-color: #f0f0f0;"/>
                    </j:if>
                    <j:if test="${!check.found}">
                        <td style="background-color: green;"/>
                    </j:if>
                    </j:if>
                    <j:if test="${!check.ignored}">
                        <j:if test="${check.found}">
                            <td style="background-color: red;"/>
                        </j:if>
                        <j:if test="${!check.found}">
                            <td style="background-color: green;"/>
                        </j:if>
                    </j:if>
                </j:forEach>
                </tr>
            </j:forEach>
       </tbody>
     </table>
   </l:main-panel>
 </l:layout>
</j:jelly>
